import{_ as J,d as G,aS as K,u as X,aa as Z,k as y,r as k,c as i,o as p,aH as ee,m as a,n as _,p as u,q as s,f as t,Q as M,v as r,x as q,aB as se,F as C,C as h,B as E,z as n,t as R,s as v,D as ae,E as te}from"./index.29cc8f67.js";import{Q as U}from"./QSeparator.9b09cdb2.js";import{Q as ie}from"./QImg.5eac1bcc.js";import{a as oe,Q as ne}from"./QCarousel.6a241fd0.js";import{Q as V}from"./QTooltip.4826778a.js";import{Q as le}from"./QItemLabel.6e93fea8.js";import{Q as T}from"./QSpace.4d08d001.js";import{Q as ce}from"./QCard.2ae7f71b.js";import{Q as de}from"./QPage.4ee3a514.js";import{u as ue}from"./property.061c8fe0.js";import{u as re}from"./user.dec7cc73.js";import{u as me}from"./account.121b38ce.js";import{_ as _e}from"./NewsLetter.654b612a.js";import{_ as ve}from"./TypesOfStays.9151a49d.js";import"./use-dark.f934fa20.js";import"./use-panel.92641061.js";import"./touch.3df10340.js";import"./selection.f6d0c368.js";import"./use-cache.b0833c75.js";import"./position-engine.9cabe4fb.js";import"./use-timeout.1cfdbf42.js";import"./focus-manager.b507780d.js";import"./scroll.1c2dbad9.js";import"./QChip.8303e392.js";import"./QInput.4ec71da6.js";import"./uid.42677368.js";import"./use-form.286392dd.js";import"./home.f5a78e22.js";const fe=w=>(ae("data-v-1e540857"),w=w(),te(),w),ge={class:"row items-center"},he=fe(()=>s("div",{class:"text-bold text-h5"},"Featured Listings",-1)),we={class:"row"},xe={class:"row"},Se={class:"col-xl-4 col-lg-3 col-md-12 col-sm-12 col-xs-12 q-py-md q-px-md cursor-pointer"},be={class:"row"},ke={class:"absolute-top-right no-padding",style:{"background-color":"transparent"}},Re={class:"q-my-sm"},Pe={class:"row"},Qe={key:0},qe={class:"q-mr-sm"},Ce={class:"q-mt-md"},Ee={class:"row"},Te={class:"text-bold text-positive"},Ae={class:"text-black"},Ie={key:0},Be={class:"text-grey"},Le={key:1},Oe={class:"q-pa-lg flex flex-center"},Fe={class:"q-pa-lg flex flex-center"},Me=G({__name:"list-stay-all",setup(w){const j=K();X();const x=Z(),z=re(),d=me(),l=ue();y(),k(8),k(1);const f=k(42),A=k([1,1,1,1,1,1,1,1,1,1,1]);i(()=>z.getAvatar);const S=i(()=>l.getProperties);i(()=>l.getImages);const N=i(()=>l.isLoading),b=i(()=>l.getPropertyReviews);i(()=>l.getPropertyRating),i(()=>Object.values(b.value).map(m=>m.user.id));const I=i(()=>S.value.map(c=>c.id)),P=i(()=>d.getWishlist);i(()=>d.getHostAvatar),i(()=>d.getHost),i(()=>JSON.stringify(l.getPropertyReviews)===JSON.stringify({}));const W=i(()=>l.getResponse);async function B(){await d.findWishListByPropertyId({objectType:"PROPERTY",objectId:I.value})}async function D(){await l.findPropertyDetails({pageSize:8})}async function $(c){let m={objectType:"PROPERTY",objectId:c};P.value[c]!=null?await d.removeFromWishList(m):await d.addToWishList(m),x.showAlert(d.getResponse.message,d.getResponse.code,"bottom-left"),await B()}async function H(){S.value.length>0&&await l.findPropertyRating({objectType:"PROPERTY",object_ids:I.value},1)}async function Y(){var c;await l.findPropertyDetails({hostId:j.params.id,pageToken:(c=W.value)==null?void 0:c.nextPageToken,pageSize:8})}return p(async()=>{await D(),await H(),await B()}),ee(()=>{}),(c,m)=>(a(),_(de,{class:"q-mx-xl"},{default:u(()=>{var L;return[s("div",ge,[t(M,{flat:"",round:"",icon:"arrow_back",color:"warning",to:"/"}),he]),t(U,{class:"q-my-lg q-mx-md",style:{width:"5%"}}),s("div",we,[s("div",xe,[(a(!0),r(C,null,q(S.value,(e,g)=>(a(),r("div",Se,[(a(),_(ce,{key:g,flat:"",onClick:Q=>c.$router.push(`/listing-stay-details/${e.id}`)},{default:u(()=>{var Q,O,F;return[(a(),_(oe,{modelValue:A.value[g],"onUpdate:modelValue":o=>A.value[g]=o,"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"",arrows:"","control-color":"amber",height:"auto",key:g,autoplay:!1,infinite:"",onClick:m[0]||(m[0]=se(()=>{},["stop"]))},{default:u(()=>[(a(!0),r(C,null,q(e==null?void 0:e.images,o=>(a(),_(ne,{name:o.id,class:"q-carousel__slides-container",key:g},{default:u(()=>[s("div",be,[t(ie,{ratio:4/3,class:"row",src:o.uri},{default:u(()=>[s("div",ke,[t(h,{size:"25px",class:"q-mr-sm q-mt-sm",color:P.value[e==null?void 0:e.id]==null?"primary":"negative",name:P.value[e==null?void 0:e.id]!=null?"favorite":"favorite_border",onClick:Ue=>$(e==null?void 0:e.id)},null,8,["color","name","onClick"])])]),_:2},1032,["src"])])]),_:2},1032,["name"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])),s("div",Re,[s("div",Pe,[(a(!0),r(C,null,q(e==null?void 0:e.features,o=>(a(),r("div",null,[o.feature=="FEATURE_BATH_ROOMS"||o.feature=="FEATURE_BED_ROOMS"?(a(),r("div",Qe,[t(h,{name:E(x).featureIcon(o.feature),class:"q-my-md q-mr-xs"},null,8,["name"]),s("span",qe,n(o.value)+" "+n(o.feature=="FEATURE_SQUARE_METERS"?"Sq.Ft":o.feature=="FEATURE_BED_ROOMS"?"beds":"baths"),1)])):R("",!0)]))),256))]),s("div",null,[t(le,{class:"two-line-break text-h6 text-bold"},{default:u(()=>[v(n((e==null?void 0:e.name.length)>f.value?e.name.substring(0,f.value)+"...":e.name)+" ",1),e.name>f.value?(a(),_(V,{key:0},{default:u(()=>[v(n(e.name),1)]),_:2},1024)):R("",!0)]),_:2},1024),s("div",Ce,[t(h,{name:"location_on",class:"no-margin",size:"20px"}),s("span",null,[v(n((e==null?void 0:e.address.street)>f.value?(e==null?void 0:e.address.street.substring(0,f.value))+"...":e==null?void 0:e.address.street)+" ",1),(e==null?void 0:e.address.street.length)>f.value?(a(),_(V,{key:0},{default:u(()=>[v(n(e==null?void 0:e.address.street),1)]),_:2},1024)):R("",!0)])]),t(U,{class:"q-my-md",style:{width:"20%"}}),s("div",Ee,[s("div",Te,[v(n(e.unitPrice.currencyCode)+" "+n(E(x).commaSeparate(e.unitPrice.units))+" /",1),s("span",Ae,n(e.chargeCycle.toLowerCase()),1)]),t(T),s("div",null,[((Q=b.value[e==null?void 0:e.id])==null?void 0:Q.reviews)!=null?(a(),r("div",Ie,[t(h,{name:"star",size:"20px",color:"warning"}),v(" "+n(E(x).computeAverageRating((O=b.value[e==null?void 0:e.id])==null?void 0:O.reviews))+" ",1),s("span",Be,"("+n((F=b.value[e==null?void 0:e.id])==null?void 0:F.reviews[0].reviewCount)+")",1)])):(a(),r("div",Le,[t(h,{name:"star_border",size:"20px"}),v(" None ")]))])])])])]}),_:2},1032,["onClick"]))]))),256))])]),s("div",Oe,[s("div",Fe,[((L=S.value)==null?void 0:L.nextPageToken)!=""?(a(),_(M,{key:0,rounded:"","no-caps":"",color:"warning",label:"Show more","icon-right":"expand_more",loading:N.value,onClick:Y},null,8,["loading"])):R("",!0)])]),t(T,{style:{height:"100px"}}),t(ve),t(T,{style:{height:"150px"}}),t(_e)]}),_:1}))}});var ms=J(Me,[["__scopeId","data-v-1e540857"]]);export{ms as default};
