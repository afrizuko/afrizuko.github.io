import{_ as p,d as ee,aV as se,u as te,af as ae,v as ie,r as I,c as i,o as ne,aH as oe,y as n,z as f,A as r,B as s,f as t,Q as le,E as m,G as A,aB as ce,F as q,K as h,J as C,I as c,D as U,C as v,L as de,M as ue}from"./index.d76c9739.js";import{Q as W}from"./QSeparator.5d732e77.js";import{Q as re}from"./use-dark.0ffe31d1.js";import{a as me,Q as ve}from"./QCarousel.52b88bbb.js";import{Q as Y}from"./QTooltip.6c7f46ee.js";import{Q as _e}from"./position-engine.c5d572f0.js";import{Q as j}from"./QSpace.71a43976.js";import{Q as fe}from"./QCard.91b56ebd.js";import{Q as ge}from"./QPagination.c03c85c0.js";import{Q as we}from"./QPage.3223434f.js";import{u as he}from"./property.c3e86e9b.js";import{u as Re}from"./user.b5b8ff28.js";import{u as be}from"./account.365e2871.js";import{_ as Pe}from"./NewsLetter.5362a274.js";import{_ as Ie}from"./TypesOfStays.d1dd9198.js";import"./use-panel.abc7ece5.js";import"./touch.3df10340.js";import"./selection.04792e31.js";import"./use-cache.b0833c75.js";import"./use-timeout.da5e732b.js";import"./focus-manager.b507780d.js";import"./scroll.a12159aa.js";import"./QInput.9f9ee9d7.js";import"./uid.42677368.js";import"./use-form.7c0a6a2d.js";import"./format.c860d4da.js";import"./QChip.1aebe51b.js";import"./home.7a89df99.js";const xe=R=>(de("data-v-7e5326cc"),R=R(),ue(),R),Ee={class:"row items-center"},Se=xe(()=>s("div",{class:"text-bold text-h5"},"Featured Listings",-1)),Te={class:"row"},ke={class:"row"},Qe={class:"q-py-md q-px-md cursor-pointer"},Ae={class:"row"},qe={class:"absolute-top-right no-padding",style:{"background-color":"transparent"}},Ce={class:"q-my-sm"},Ue={class:"row"},je={key:0},Le={class:"q-mr-sm"},Be={class:"q-mt-md"},Oe={class:"row"},Me={class:"text-bold text-positive"},Ve={class:"text-black"},Fe={key:0},Ne={class:"text-grey"},We={key:1},Ye={class:"q-pa-lg flex flex-center"},$e=ee({__name:"list-stay-all",setup(R){const x=se();te();const b=ae(),L=Re(),d=be(),u=he();ie();const E=I(8),S=I(1),_=I(42),B=I([1,1,1,1,1,1,1,1,1,1,1]);i(()=>L.getAvatar);const g=i(()=>u.getProperties),$=i(()=>u.getImages),z=i(()=>{const a=(S.value-1)*E.value,o=a+E.value;return g.value.slice(a,o)});i(()=>Math.ceil(g.value.length/E.value));const P=i(()=>u.getPropertyReviews);i(()=>u.getPropertyRating);const O=i(()=>Object.values(P.value).map(o=>o.user.id)),T=i(()=>g.value.map(a=>a.id)),k=i(()=>d.getWishlist);i(()=>d.getHostAvatar),i(()=>d.getHost),i(()=>JSON.stringify(u.getPropertyReviews)===JSON.stringify({})),i(()=>u.getResponse);async function D(){await d.findUserPhoto({objectType:"USER",objectIds:[x.params.id],fileType:"FILE_TYPE_IMAGE"},!0)}async function H(){var a;((a=O.value)==null?void 0:a.length)>1&&await u.findReviewerAvatars({objectType:"USER",objectIds:O.value})}async function M(){await d.findWishListByPropertyId({objectType:"PROPERTY",objectId:T.value})}async function G(){let a={objectType:"PROPERTY",objectIds:T.value,fileType:"FILE_TYPE_IMAGE"};await u.findPropertyImages(a)}async function J(){await u.findPropertyDetails({})}async function K(){await d.findUserInfo({ids:[x.params.id]},!0)}async function X(a){let o={objectType:"PROPERTY",objectId:a};k.value[a]!=null?await d.removeFromWishList(o):await d.addToWishList(o),b.showAlert(d.getResponse.message,d.getResponse.code,"bottom-left"),await M()}async function Z(){g.value.length>0&&await u.findPropertyRating({objectType:"PROPERTY",object_ids:T.value},1)}async function y(){g.value.length>0&&await L.findUserRatings({objectType:"USER",objectIds:[x.params.id]})}return ne(async()=>{await J(),await G(),await Z(),await M(),await D(),await K(),await y(),await H()}),oe(()=>{}),(a,o)=>(n(),f(we,{class:"q-mx-xl"},{default:r(()=>[s("div",Ee,[t(le,{flat:"",round:"",icon:"arrow_back",color:"warning",to:"/"}),Se]),t(W,{class:"q-my-lg q-mx-md",style:{width:"5%"}}),s("div",Te,[s("div",ke,[(n(!0),m(q,null,A(z.value,(e,w)=>(n(),m("div",Qe,[(n(),f(fe,{key:w,flat:"",onClick:Q=>a.$router.push(`/listing-stay-details/${e.id}`)},{default:r(()=>{var Q,V,F;return[(n(),f(me,{modelValue:B.value[w],"onUpdate:modelValue":l=>B.value[w]=l,"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"",arrows:"","control-color":"amber",height:"auto",key:w,autoplay:!0,infinite:"",onClick:o[0]||(o[0]=ce(()=>{},["stop"]))},{default:r(()=>{var l;return[(n(!0),m(q,null,A((l=$.value[e.id])==null?void 0:l.files,N=>(n(),f(ve,{name:N.id,class:"q-carousel__slides-container",key:w},{default:r(()=>[s("div",Ae,[t(re,{ratio:4/3,class:"row",src:N.uri},{default:r(()=>[s("div",qe,[t(h,{size:"25px",class:"q-mr-sm q-mt-sm",color:k.value[e==null?void 0:e.id]==null?"primary":"negative",name:k.value[e==null?void 0:e.id]!=null?"favorite":"favorite_border",onClick:ze=>X(e==null?void 0:e.id)},null,8,["color","name","onClick"])])]),_:2},1032,["src"])])]),_:2},1032,["name"]))),128))]}),_:2},1032,["modelValue","onUpdate:modelValue"])),s("div",Ce,[s("div",Ue,[(n(!0),m(q,null,A(e==null?void 0:e.features,l=>(n(),m("div",null,[l.feature=="FEATURE_BATH_ROOMS"||l.feature=="FEATURE_BED_ROOMS"?(n(),m("div",je,[t(h,{name:C(b).featureIcon(l.feature),class:"q-my-md q-mr-xs"},null,8,["name"]),s("span",Le,c(l.value)+" "+c(l.feature=="FEATURE_SQUARE_METERS"?"Sq.Ft":l.feature=="FEATURE_BED_ROOMS"?"beds":"baths"),1)])):U("",!0)]))),256))]),s("div",null,[t(_e,{class:"two-line-break text-h6 text-bold"},{default:r(()=>[v(c((e==null?void 0:e.name.length)>_.value?e.name.substring(0,_.value)+"...":e.name)+" ",1),e.name>_.value?(n(),f(Y,{key:0},{default:r(()=>[v(c(e.name),1)]),_:2},1024)):U("",!0)]),_:2},1024),s("div",Be,[t(h,{name:"location_on",class:"no-margin",size:"20px"}),s("span",null,[v(c((e==null?void 0:e.address.street)>_.value?(e==null?void 0:e.address.street.substring(0,_.value))+"...":e==null?void 0:e.address.street)+" ",1),(e==null?void 0:e.address.street.length)>_.value?(n(),f(Y,{key:0},{default:r(()=>[v(c(e==null?void 0:e.address.street),1)]),_:2},1024)):U("",!0)])]),t(W,{class:"q-my-md",style:{width:"20%"}}),s("div",Oe,[s("div",Me,[v(c(e.unitPrice.currencyCode)+" "+c(C(b).commaSeparate(e.unitPrice.units))+" /",1),s("span",Ve,c(e.chargeCycle.toLowerCase()),1)]),t(j),s("div",null,[((Q=P.value[e==null?void 0:e.id])==null?void 0:Q.reviews)!=null?(n(),m("div",Fe,[t(h,{name:"star",size:"20px",color:"warning"}),v(" "+c(C(b).computeAverageRating((V=P.value[e==null?void 0:e.id])==null?void 0:V.reviews))+" ",1),s("span",Ne,"("+c((F=P.value[e==null?void 0:e.id])==null?void 0:F.reviews[0].reviewCount)+")",1)])):(n(),m("div",We,[t(h,{name:"star_border",size:"20px"}),v(" None ")]))])])])])]}),_:2},1032,["onClick"]))]))),256))])]),s("div",Ye,[t(ge,{modelValue:S.value,"onUpdate:modelValue":o[1]||(o[1]=e=>S.value=e),max:5,input:"","direction-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward",color:"warning"},null,8,["modelValue"])]),t(j,{style:{height:"100px"}}),t(Ie),t(j,{style:{height:"150px"}}),t(Pe)]),_:1}))}});var Rs=p($e,[["__scopeId","data-v-7e5326cc"]]);export{Rs as default};
