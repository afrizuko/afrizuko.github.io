import{Q}from"./use-dark.3002867a.js";import{_ as S,d as I,af as V,u as P,v as C,r as L,c as u,y as A,z as B,A as t,f as o,B as e,Q as d,C as p,aY as U,L as k,M as N}from"./index.6514caa5.js";import{Q as g}from"./QInput.1a4a1759.js";import{Q as R}from"./QForm.4870a35a.js";import{Q as T}from"./QPageContainer.3c16abb2.js";import{Q as z}from"./QPage.07bbc0e5.js";import{u as F}from"./account.87102a8d.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-form.0a8c7979.js";const _=l=>(k("data-v-4c9d9d00"),l=l(),N(),l),G=_(()=>e("div",{class:"q-pa-md text-h3 q-mb-xl text-weight-bold"},"Login",-1)),H={class:"row"},O={class:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 q-ma-xs"},$=_(()=>e("div",{class:"q-mb-md row items-center q-my-xl"},[e("div",{class:"col",style:{"border-top":"1px solid #ccc"}}),e("div",{class:"q-mr-md q-ml-md"},"OR"),e("div",{class:"col",style:{"border-top":"1px solid #ccc"}})],-1)),j={class:"row justify-center q-my-sm"},D={class:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-mb-sm"},E={class:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},M={class:"q-mb-md text-h7 text-right q-ma-xs"},Y={class:"q-mt-md text-h6 text-center"},J=I({__name:"login",setup(l){const h=V(),n=P(),v=F(),c=C(),a=L({email:"",password:""}),f=u(()=>c.isLoading),m=u(()=>c.getResponse),w=s=>s&&s.length!=0||"Username is required",x=s=>s&&s.length!=0||"Password is required",b=s=>s&&s.length>=8||"Password must be 8 characters",q=u(()=>v.getUser);async function y(){await c.login(a.value),m.value.code==0?sessionStorage.getItem("requireLogin")?(sessionStorage.removeItem("requireLogin"),n.back()):q.value.userType=="HOST"?await n.push("/dashboard"):await n.push("/"):h.showAlert("Invalid username or password",m.value.code,"")}return(s,r)=>(A(),B(z,null,{default:t(()=>[o(T,{class:"text-center",style:U(s.$q.screen.xs||s.$q.screen.sm?"width: 65%":"width: 30%")},{default:t(()=>[G,e("div",H,[e("div",O,[o(d,{"no-caps":"",rounded:"",color:"indigo-1",label:"Continue with Google",class:"my-btn text-black"},{default:t(()=>[o(Q,{width:"25px",src:"https://cdn1.iconfinder.com/data/icons/google-s-logo/150/Google_Icons-09-512.png",class:"q-mx-sm"})]),_:1})])]),$,o(R,{onSubmit:y},{default:t(()=>[e("div",j,[e("div",D,[o(g,{outlined:"",rounded:"",label:"Email Address",color:"grey",rules:[w],modelValue:a.value.email,"onUpdate:modelValue":r[0]||(r[0]=i=>a.value.email=i)},null,8,["rules","modelValue"])]),e("div",E,[o(g,{rounded:"",outlined:"",label:"Password",type:"password",color:"grey",rules:[x&&b],modelValue:a.value.password,"onUpdate:modelValue":r[1]||(r[1]=i=>a.value.password=i)},null,8,["rules","modelValue"])])]),e("div",null,[e("div",M,[o(d,{flat:"","no-caps":""},{default:t(()=>[p("Forgot Password?")]),_:1})]),o(d,{class:"my-btn",rounded:"",color:"indigo-10",label:"Continue",type:"submit",loading:f.value},null,8,["loading"]),e("div",Y,[o(d,{to:"/signup",flat:"","no-caps":""},{default:t(()=>[p("New user? Create an account")]),_:1})])])]),_:1})]),_:1},8,["style"])]),_:1}))}});var re=S(J,[["__scopeId","data-v-4c9d9d00"]]);export{re as default};
