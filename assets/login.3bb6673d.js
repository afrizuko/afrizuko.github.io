import{Q as y}from"./use-dark.021a37f0.js";import{_ as Q,d as S,aa as I,u as V,k as P,r as C,c as u,m as U,n as k,p as t,f as o,q as s,Q as c,s as p,aV as L,D as A,E as B}from"./index.6f40f7fe.js";import{Q as g}from"./QInput.e9b2e6e3.js";import{Q as N}from"./QForm.4c6bebb3.js";import{Q as R}from"./QPageContainer.a8e1648d.js";import{Q as D}from"./QPage.6672a000.js";import{u as E}from"./account.4d31b5ec.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-form.0e0408c3.js";const _=l=>(A("data-v-20ccf1c1"),l=l(),B(),l),F=_(()=>s("div",{class:"q-pa-md text-h3 q-mb-xl text-weight-bold"},"Login",-1)),G={class:"row"},$={class:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 q-ma-xs"},j=_(()=>s("div",{class:"q-mb-md row items-center q-my-xl"},[s("div",{class:"col",style:{"border-top":"1px solid #ccc"}}),s("div",{class:"q-mr-md q-ml-md"},"OR"),s("div",{class:"col",style:{"border-top":"1px solid #ccc"}})],-1)),z={class:"row justify-center q-my-sm"},H={class:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-mb-sm"},O={class:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},T={class:"q-mb-md text-h7 text-right q-ma-xs"},J={class:"q-mt-md text-h6 text-center"},K=S({__name:"login",setup(l){const h=I(),d=V(),f=E(),r=P(),a=C({email:"",password:""}),v=u(()=>r.isLoading),m=u(()=>r.getResponse),w=e=>e&&e.length!=0||"Username is required",x=e=>e&&e.length!=0||"Password is required",q=e=>e&&e.length>=8||"Password must be 8 characters";u(()=>f.getUser);async function b(){var e;await r.login(a.value),m.value.code==0?sessionStorage.getItem("requireLogin")?(sessionStorage.removeItem("requireLogin"),d.back()):((e=r.currentUser())==null?void 0:e.user_type)===2?await d.push("/dashboard"):await d.push("/"):h.showAlert("Invalid username or password",m.value.code,"")}return(e,n)=>(U(),k(D,null,{default:t(()=>[o(R,{class:"text-center",style:L(e.$q.screen.xs||e.$q.screen.sm?"width: 65%":"width: 30%")},{default:t(()=>[F,s("div",G,[s("div",$,[o(c,{"no-caps":"",rounded:"",color:"indigo-1",label:"Continue with Google",class:"my-btn text-black"},{default:t(()=>[o(y,{width:"25px",src:"https://cdn1.iconfinder.com/data/icons/google-s-logo/150/Google_Icons-09-512.png",class:"q-mx-sm"})]),_:1})])]),j,o(N,{onSubmit:b},{default:t(()=>[s("div",z,[s("div",H,[o(g,{outlined:"",rounded:"",label:"Email Address",color:"grey",rules:[w],modelValue:a.value.email,"onUpdate:modelValue":n[0]||(n[0]=i=>a.value.email=i)},null,8,["rules","modelValue"])]),s("div",O,[o(g,{rounded:"",outlined:"",label:"Password",type:"password",color:"grey",rules:[x&&q],modelValue:a.value.password,"onUpdate:modelValue":n[1]||(n[1]=i=>a.value.password=i)},null,8,["rules","modelValue"])])]),s("div",null,[s("div",T,[o(c,{flat:"","no-caps":""},{default:t(()=>[p("Forgot Password?")]),_:1})]),o(c,{class:"my-btn",rounded:"",color:"indigo-10",label:"Continue",type:"submit",loading:v.value},null,8,["loading"]),s("div",J,[o(c,{to:"/signup",flat:"","no-caps":""},{default:t(()=>[p("New user? Create an account")]),_:1})])])]),_:1})]),_:1},8,["style"])]),_:1}))}});var le=Q(K,[["__scopeId","data-v-20ccf1c1"]]);export{le as default};
