import{Q as w}from"./use-dark.021a37f0.js";import{d as j,u as B,k as C,aa as N,c as a,o as P,m as c,v as f,q as r,F as T,x as U,f as e,p as o,n as x,y as g,s as m,z as i,B as z,Q as A}from"./index.6f40f7fe.js";import{Q as H}from"./QItem.40a7b2b5.js";import{Q as t}from"./QItemLabel.4ce23d48.js";import{Q as q}from"./QSeparator.a19ab3ec.js";import{Q as L}from"./QCard.062ea066.js";import{_ as V}from"./default-avatar-icon.adf04dc9.js";import{u as D}from"./property.b36a709a.js";import{u as $}from"./user.f4e3126f.js";import{u as E}from"./images.68ce23de.js";const F={class:"row"},R={class:"col-xl-2 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-sm"},M={class:"row justify-center"},G={class:"row justify-center"},J={class:"row justify-center"},K={class:"row justify-center"},O={class:"row justify-center"},W=r("div",{class:"row q-mx-sm"},null,-1),X={class:"row q-mx-sm q-m justify-between"},Y=r("div",null,"Status",-1),Z={class:"row q-mx-sm q-m justify-between"},n=r("div",null,"Rent",-1),ss={class:"row q-mt-md"},fs=j({__name:"tenants",setup(rs){B();const _=C(),y=D(),p=$(),Q=N();E();const b=a(()=>y.getProperties);a(()=>p.getTenants);const v=a(()=>l=>b.value.find(u=>u.id===l)),S=a(()=>p.getTenants.filter((l,u,s)=>s.findIndex(d=>d.id===l.id)===u));async function I(){await y.findPropertyDetails({pageSize:200,hostId:_.currentUser().aud[0]})}async function k(){await p.findHostTenants(_.currentUser().aud[0])}return P(async()=>{await k(),await I()}),(l,u)=>(c(),f("div",null,[r("div",F,[(c(!0),f(T,null,U(S.value,s=>(c(),f("div",R,[e(L,{flat:"",bordered:"",class:"q-pa-sm"},{default:o(()=>{var d,h;return[r("div",M,[e(H,null,{default:o(()=>[s!=null&&s.user.imgUri?(c(),x(g,{key:0,style:{"margin-left":"12px"},size:"100px"},{default:o(()=>[e(w,{src:s==null?void 0:s.user.imgUri},null,8,["src"])]),_:2},1024)):(c(),x(g,{key:1,style:{"margin-left":"12px"},size:"100px"},{default:o(()=>[e(w,{src:V})]),_:1}))]),_:2},1024)]),r("div",G,[e(t,{class:"q-mb-xs"},{default:o(()=>[m(i(s==null?void 0:s.user.firstName)+" "+i(s==null?void 0:s.user.lastName),1)]),_:2},1024)]),r("div",J,[e(t,{class:"q-mb-xs"},{default:o(()=>[m(" Contact : "+i(s==null?void 0:s.user.phone),1)]),_:2},1024)]),r("div",K,[e(t,{class:"q-mb-xs"},{default:o(()=>[m(" Email : "+i(s==null?void 0:s.user.email),1)]),_:2},1024)]),r("div",O,[e(t,{class:"q-mb-xs"},{default:o(()=>[m(" Address : "+i(s!=null&&s.user.addressLine?s==null?void 0:s.user.addressLine:"Not Available"),1)]),_:2},1024)]),e(q,{class:"q-my-sm"}),W,r("div",X,[Y,r("div",null,i(s==null?void 0:s.user.status),1)]),r("div",Z,[n,r("div",null,i((d=v.value(s==null?void 0:s.propertyId))==null?void 0:d.unitPrice.currencyCode)+" "+i(z(Q).commaSeparate(Number((h=v.value(s==null?void 0:s.propertyId))==null?void 0:h.unitPrice.units))),1)]),e(q,{class:"q-my-sm"}),r("div",ss,[e(A,{"no-caps":"",flat:"",rounded:"",style:{width:"100%"},color:"warning",label:"View Details",onClick:es=>l.$router.push(`/tenant/listing/${s==null?void 0:s.user.id}`)},null,8,["onClick"])])]}),_:2},1024)]))),256))])]))}});export{fs as default};
