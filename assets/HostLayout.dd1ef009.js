import{_ as ot,d as lt,u as it,k as rt,aa as nt,r as N,c as _,o as ut,l as dt,m as a,v as U,f as t,p as e,q as l,F as D,Q as x,s as i,t as v,n as o,x as ct,y as C,z as w,A as d,C as c,B as mt,R as m,D as pt,E as ft}from"./index.d15ae335.js";import{b as _t,Q as vt,a as gt}from"./QHeader.004e4159.js";import{Q as H}from"./QSpace.ad51b65b.js";import{Q as j}from"./QBadge.bbb4c780.js";import{Q as g}from"./QImg.84d4471d.js";import{Q as s}from"./QItemSection.d1f223f0.js";import{Q as $}from"./QItemLabel.f424bf05.js";import{Q as u}from"./QItem.89894a8b.js";import{Q as O}from"./QCard.921cf3a5.js";import{Q as F}from"./QMenu.79ece5ed.js";import{Q as I}from"./QSeparator.321b633b.js";import{Q as yt}from"./QList.cdae21bd.js";import{Q as bt}from"./QScrollArea.4106eb46.js";import{Q as xt}from"./QDrawer.effbe392.js";import{Q as ht}from"./QPageContainer.d604afee.js";import{Q as kt}from"./QLayout.7ea04cad.js";import{Q as Y}from"./QCardSection.223fe0f9.js";import{Q as wt}from"./QDialog.3910d311.js";import{_ as A}from"./default-avatar-icon.adf04dc9.js";import{u as G}from"./account.a9fbbfd8.js";import{u as Qt}from"./property.b76182b5.js";import{u as qt}from"./payment.96de4ec3.js";import"./QResizeObserver.d33fd5fa.js";import"./use-dark.50337edb.js";import"./position-engine.ae755088.js";import"./selection.e9d4ec32.js";import"./use-timeout.4f8fcbe7.js";import"./focus-manager.b507780d.js";import"./scroll.5d6e86f0.js";import"./use-prevent-scroll.c840e0db.js";import"./QScrollObserver.9ab7f6dd.js";import"./TouchPan.c3ce8f38.js";import"./touch.3df10340.js";import"./format.c860d4da.js";const B=Q=>(pt("data-v-77effaf6"),Q=Q(),ft(),Q),St={style:{width:"30%"}},Tt={key:0,style:{width:"30%","align-items":"center"},class:"cursor-pointer"},Pt={style:{width:"30%","text-align":"right"}},Ct=B(()=>l("div",{class:"text-h6 q-ma-md"},"Notifications",-1)),It={class:"column items-center"},zt={class:"text-subtitle1 q-mt-sm q-mb-xs"},Lt={class:"q-my-md q-mx-sm"},Nt={class:"row"},Ut={class:"row"},Ht={class:"row"},$t={class:"row"},At={class:"q-my-sm q-mx-sm"},Bt={class:"row"},Mt={class:"row"},Rt={class:"row"},Vt={class:"absolute-top text-center q-mx-sm",style:{height:"180px"}},Et={class:"absolute-bottom bg-transparent q-pa-sm"},Dt=B(()=>l("div",{class:"text-weight-bold q-my-md"},"Host User",-1)),jt={class:"q-pa-md q-gutter-sm"},Ot=B(()=>l("div",{class:"text-h6"},"Alert",-1)),Ft=lt({__name:"HostLayout",setup(Q){const q=it(),h=rt(),W=G(),z=Qt(),f=G();nt();const J=qt(),S=N(!0),M=N(!1),K=N(!0),T=_(()=>{var p;return(p=h.currentUser())==null?void 0:p.aud[0]}),P=_(()=>f.getAvatar),y=_(()=>f.getUser),R=_(()=>f.getNotifications),V=_(()=>f.getInitiatorPhotos);_(()=>z.getProperties),_(()=>J.getPaymentDetails);function L(p){W.setCurrentTab(p),q.push("/account")}function X(){z.$reset(),z.setOperationMode(!1),q.push("/add-listing")}function Z(){q.push(`/bookings/${h.currentUser().aud[0]}`)}async function tt(){h.currentUser()!=null&&(await f.findUserPhoto({objectType:"USER",objectIds:[h.currentUser().aud[0]],fileType:"FILE_TYPE_IMAGE"}),await f.findUserInfo({ids:[h.currentUser().aud[0]]}))}async function et(){await f.findNotifications({objectType:"PROPERTY"})}async function at(){await f.findPhotos({objectType:"USER",objectIds:R.value.map(p=>p.initiator.id)})}return ut(async()=>{await tt(),await et(),await at()}),(p,r)=>{const st=dt("router-view");return a(),U(D,null,[t(kt,{view:"hHh lpR fFf"},{default:e(()=>[t(_t,{elevated:!1,class:"q-pa-md"},{default:e(()=>[t(vt,{class:"row"},{default:e(()=>[t(x,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",color:"warning",onClick:r[0]||(r[0]=n=>S.value=!S.value)}),l("div",St,[t(gt,{class:"text-black cursor-pointer",onClick:r[1]||(r[1]=n=>p.$router.push("/"))},{default:e(()=>[i(" Ppangisa ")]),_:1})]),p.$q.screen.lg||p.$q.screen.xl?v("",!0):(a(),U("div",Tt)),t(H),l("div",Pt,[y.value.userType=="HOST"&&T.value!=null?(a(),o(x,{key:0,"no-caps":"",outline:"",rounded:"",label:"List Your Property",class:"q-mx-sm text-black",onClick:X})):v("",!0),T.value==null?(a(),o(x,{key:1,"no-caps":"",outline:"",rounded:"",label:"Login",class:"q-mx-sm text-black",to:"/login"})):v("",!0),T.value!=null?(a(),o(x,{key:2,flat:"",round:"",icon:"notifications_none",class:"q-mr-md",color:"black",size:"15px"},{default:e(()=>[t(j,{floating:"",color:"red",rounded:""}),t(F,{style:{width:"28%"}},{default:e(()=>[t(O,{flat:"",class:"q-mx-md"},{default:e(()=>[Ct,(a(!0),U(D,null,ct(R.value,n=>(a(),o(u,{class:"q-my-md cursor-pointer"},{default:e(()=>[t(s,{top:"",avatar:""},{default:e(()=>[t(C,{size:"50px"},{default:e(()=>{var k;return[V.value[n.initiator.id].files?(a(),o(g,{key:0,src:(k=V.value[n.initiator.id].files[0])==null?void 0:k.uri},null,8,["src"])):(a(),o(g,{key:1,src:A}))]}),_:2},1024)]),_:2},1024),t(s,null,{default:e(()=>[t($,null,{default:e(()=>[i(w(n.initiator.firstName)+" "+w(n.initiator.lastName),1)]),_:2},1024),t($,{class:"text-subtitle1",lines:"1"},{default:e(()=>[i(w(n.content),1)]),_:2},1024),t($,{caption:""},{default:e(()=>[i("5 min ago")]),_:1})]),_:2},1024),t(s,{side:"",top:"",class:"q-mt-md"},{default:e(()=>[t(j,{rounded:"",color:"indigo"})]),_:1})]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})):v("",!0),T.value!=null?(a(),o(C,{key:3,class:"q-mr-xl cursor-pointer"},{default:e(()=>{var n,k;return[(n=P.value[0])!=null&&n.uri?(a(),o(g,{key:0,src:(k=P.value[0])==null?void 0:k.uri},null,8,["src"])):(a(),o(g,{key:1,src:A})),t(F,{style:{width:"20%"},"auto-close":""},{default:e(()=>[l("div",It,[t(C,{size:"50px",class:"q-mt-xs"},{default:e(()=>{var b,E;return[(b=P.value[0])!=null&&b.uri?(a(),o(g,{key:0,src:(E=P.value[0])==null?void 0:E.uri},null,8,["src"])):(a(),o(g,{key:1,src:A}))]}),_:1}),l("div",zt,w(y.value.firstName)+" "+w(y.value.lastName),1)]),t(I,{inset:""}),l("div",Lt,[d((a(),o(u,{clickable:"",onClick:r[3]||(r[3]=b=>L("account")),"active-class":"text-black"},{default:e(()=>[t(s,{avata:""},{default:e(()=>[l("div",Nt,[t(c,{size:"25px",name:"perm_identity",class:"q-mr-sm",onClick:r[2]||(r[2]=b=>L("account"))}),t(s,null,{default:e(()=>[i("My Account")]),_:1})])]),_:1})]),_:1})),[[m]]),y.value.userType!="HOST"?d((a(),o(u,{key:0,clickable:"","active-class":"text-black",onClick:Z},{default:e(()=>[t(s,{avata:""},{default:e(()=>[l("div",Ut,[t(c,{size:"25px",name:"bookmark_border",class:"q-mr-sm"}),t(s,null,{default:e(()=>[i("My Bookings")]),_:1})])]),_:1})]),_:1})),[[m]]):v("",!0),y.value.userType!="TENANT"?d((a(),o(u,{key:1,clickable:"","active-class":"text-black",onClick:r[4]||(r[4]=b=>mt(q).push("/property-listing"))},{default:e(()=>[t(s,{avata:""},{default:e(()=>[l("div",Ht,[t(c,{size:"25px",name:"cottage",class:"q-mr-sm"}),t(s,null,{default:e(()=>[i("My Properties")]),_:1})])]),_:1})]),_:1})),[[m]]):v("",!0),y.value.userType!="HOST"?d((a(),o(u,{key:2,clickable:"",onClick:r[5]||(r[5]=b=>L("wishlist")),"active-class":"text-black"},{default:e(()=>[t(s,null,{default:e(()=>[l("div",$t,[t(c,{size:"25px",name:"favorite_border",class:"q-mr-sm"}),t(s,null,{default:e(()=>[i("My Wishlist")]),_:1})])]),_:1})]),_:1})),[[m]]):v("",!0)]),t(I,{inset:""}),l("div",At,[d((a(),o(u,{clickable:""},{default:e(()=>[t(s,{avata:""},{default:e(()=>[l("div",Bt,[t(c,{size:"25px",name:"settings",class:"q-mr-sm"}),t(s,null,{default:e(()=>[i("Settings")]),_:1})])]),_:1})]),_:1})),[[m]]),d((a(),o(u,{clickable:""},{default:e(()=>[t(s,{avata:""},{default:e(()=>[l("div",Mt,[t(c,{size:"25px",name:"help_outline",class:"q-mr-sm"}),t(s,null,{default:e(()=>[i("Help")]),_:1})])]),_:1})]),_:1})),[[m]]),d((a(),o(u,{clickable:"",to:"/signout"},{default:e(()=>[t(s,{avata:""},{default:e(()=>[l("div",Rt,[t(c,{size:"25px",name:"logout",class:"q-mr-sm"}),t(s,null,{default:e(()=>[i("Logout")]),_:1})])]),_:1})]),_:1})),[[m]])])]),_:1})]}),_:1})):(a(),o(x,{key:4,"no-caps":"",outline:"",rounded:"",label:"Become a host",class:"q-mx-sm text-black",to:"/signup"}))])]),_:1})]),_:1}),t(xt,{modelValue:S.value,"onUpdate:modelValue":r[6]||(r[6]=n=>S.value=n),"show-if-above":"",width:250,breakpoint:400},{default:e(()=>[t(bt,{style:{height:"calc(100% - 180px)","margin-top":"180px","border-right":"1px solid #ddd"}},{default:e(()=>[t(yt,{padding:""},{default:e(()=>[d((a(),o(u,{"active-class":"text-warning",clickable:"",to:"/dashboard"},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(c,{name:"dashboard"})]),_:1}),t(s,null,{default:e(()=>[i(" Dashboard ")]),_:1})]),_:1})),[[m]]),d((a(),o(u,{"active-class":"text-warning",clickable:"",to:"/my-properties"},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(c,{name:"real_estate_agent"})]),_:1}),t(s,null,{default:e(()=>[i(" Properties ")]),_:1})]),_:1})),[[m]]),d((a(),o(u,{"active-class":"text-warning",clickable:"",to:"/tenants"},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(c,{name:"groups"})]),_:1}),t(s,null,{default:e(()=>[i(" Tenants ")]),_:1})]),_:1})),[[m]]),d((a(),o(u,{"active-class":"text-warning",clickable:"",to:"/maintenance"},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(c,{name:"construction"})]),_:1}),t(s,null,{default:e(()=>[i(" Maintenance ")]),_:1})]),_:1})),[[m]]),d((a(),o(u,{"active-class":"text-warning",clickable:""},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(c,{name:"settings"})]),_:1}),t(s,null,{default:e(()=>[i(" Settings ")]),_:1})]),_:1})),[[m]])]),_:1})]),_:1}),l("div",Vt,[l("div",Et,[t(C,{size:"56px",class:"q-mb-sm"},{default:e(()=>[t(g,{src:"https://cdn.quasar.dev/img/boy-avatar.png"})]),_:1}),Dt,t(x,{"no-caps":"",outline:"",rounded:"",label:"List Property",color:"warning",to:"/add-listing"}),t(I,{class:"q-my-sm"})])])]),_:1},8,["modelValue"]),t(ht,null,{default:e(()=>[t(st),t(H,{style:{height:"50px"}}),t(I,{class:"q-my-xl"}),t(H,{style:{height:"50px"}})]),_:1})]),_:1}),l("div",jt,[t(wt,{modelValue:M.value,"onUpdate:modelValue":r[7]||(r[7]=n=>M.value=n),persistent:"",maximized:K.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:e(()=>[t(O,{class:"bg-primary text-white"},{default:e(()=>[t(Y,null,{default:e(()=>[Ot]),_:1}),t(Y,{class:"q-pt-none"},{default:e(()=>[i(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum repellendus sit voluptate voluptas eveniet porro. Rerum blanditiis perferendis totam, ea at omnis vel numquam exercitationem aut, natus minima, porro labore. ")]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])])],64)}}});var Te=ot(Ft,[["__scopeId","data-v-77effaf6"]]);export{Te as default};
