import{Q as P}from"./QDialog.3b1216fc.js";import{Q as x}from"./QMenu.988bbbf4.js";import{u as y,c as Q}from"./position-engine.4babaccd.js";import{k as b,r as p,c as h,w as k,ai as C,h as j,g as M}from"./index.e0ba20ab.js";var O=b({name:"QPopupProxy",props:{...y,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(a,{slots:g,emit:c,attrs:f}){const{proxy:r}=M(),{$q:i}=r,n=p(!1),t=p(null),l=h(()=>parseInt(a.breakpoint,10)),{canShow:m}=Q({showing:n});function u(){return i.screen.width<l.value||i.screen.height<l.value?"dialog":"menu"}const o=p(u()),v=h(()=>o.value==="menu"?{maxHeight:"99vh"}:{});k(()=>u(),e=>{n.value!==!0&&(o.value=e)});function d(e){n.value=!0,c("show",e)}function w(e){n.value=!1,o.value=u(),c("hide",e)}return Object.assign(r,{show(e){m(e)===!0&&t.value.show(e)},hide(e){t.value.hide(e)},toggle(e){t.value.toggle(e)}}),C(r,"currentComponent",()=>({type:o.value,ref:t.value})),()=>{const e={ref:t,...v.value,...f,onShow:d,onHide:w};let s;return o.value==="dialog"?s=P:(s=x,Object.assign(e,{target:a.target,contextMenu:a.contextMenu,noParentEvent:!0,separateClosePopup:!0})),j(s,e,g.default)}}});export{O as Q};
