import{w as D,ag as A,o as H,g as h,Y as b,ah as v,r as F,a as Q,ai as U,h as _,aj as j,ak as E,al as G,c as q,a4 as C,K as S,am as k}from"./index.afa77c1b.js";import{r as w,b as I}from"./focus-manager.b507780d.js";const K={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},L=["beforeShow","show","beforeHide","hide"];function Y({showing:e,canShow:o,hideOnRouteChange:a,handleShow:l,handleHide:n,processOnMount:f}){const r=h(),{props:i,emit:u,proxy:p}=r;let s;function d(t){e.value===!0?P(t):m(t)}function m(t){if(i.disable===!0||t!==void 0&&t.qAnchorHandled===!0||o!==void 0&&o(t)!==!0)return;const c=i["onUpdate:modelValue"]!==void 0;c===!0&&(u("update:modelValue",!0),s=t,b(()=>{s===t&&(s=void 0)})),(i.modelValue===null||c===!1)&&T(t)}function T(t){e.value!==!0&&(e.value=!0,u("beforeShow",t),l!==void 0?l(t):u("show",t))}function P(t){if(i.disable===!0)return;const c=i["onUpdate:modelValue"]!==void 0;c===!0&&(u("update:modelValue",!1),s=t,b(()=>{s===t&&(s=void 0)})),(i.modelValue===null||c===!1)&&$(t)}function $(t){e.value!==!1&&(e.value=!1,u("beforeHide",t),n!==void 0?n(t):u("hide",t))}function V(t){i.disable===!0&&t===!0?i["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!1):t===!0!==e.value&&(t===!0?T:$)(s)}D(()=>i.modelValue,V),a!==void 0&&A(r)===!0&&D(()=>p.$route.fullPath,()=>{a.value===!0&&e.value===!0&&P()}),f===!0&&H(()=>{V(i.modelValue)});const M={show:m,hide:P,toggle:d};return Object.assign(p,M),M}const g=[];function z(e){return g.find(o=>o.contentEl!==null&&o.contentEl.contains(e))}function N(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return v(e)}else if(e.__qPortal===!0){const a=v(e);return a!==void 0&&a.$options.name==="QPopupProxy"?(e.hide(o),a):e}e=v(e)}while(e!=null)}function J(e,o,a){for(;a!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(a--,e.$options.name==="QMenu"){e=N(e,o);continue}e.hide(o)}e=v(e)}}function O(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function R(e,o,a,l){const n=F(!1),f=F(!1);let r=null;const i={},u=l==="dialog"&&O(e);function p(d){if(d===!0){w(i),f.value=!0;return}f.value=!1,n.value===!1&&(u===!1&&r===null&&(r=E(!1,l)),n.value=!0,g.push(e.proxy),I(i))}function s(d){if(f.value=!1,d!==!0)return;w(i),n.value=!1;const m=g.indexOf(e.proxy);m!==-1&&g.splice(m,1),r!==null&&(G(r),r=null)}return Q(()=>{s(!0)}),e.proxy.__qPortal=!0,U(e.proxy,"contentEl",()=>o.value),{showPortal:p,hidePortal:s,portalIsActive:n,portalIsAccessible:f,renderPortal:()=>u===!0?a():n.value===!0?[_(j,{to:r},a())]:void 0}}const X={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Z(e,o=()=>{},a=()=>{}){return{transitionProps:q(()=>{const l=`q-transition--${e.transitionShow||o()}`,n=`q-transition--${e.transitionHide||a()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${n}-leave-from`,leaveActiveClass:`${n}-leave-active`,leaveToClass:`${n}-leave-to`}}),transitionStyle:q(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function y(){let e;const o=h();function a(){e=void 0}return C(a),S(a),{removeTick:a,registerTick(l){e=l,b(()=>{e===l&&(k(o)===!1&&e(),e=void 0)})}}}function x(){let e=null;const o=h();function a(){e!==null&&(clearTimeout(e),e=null)}return C(a),S(a),{removeTimeout:a,registerTimeout(l,n){a(),k(o)===!1&&(e=setTimeout(l,n))}}}export{X as a,L as b,y as c,x as d,Z as e,Y as f,R as g,N as h,z as i,J as j,g as p,K as u};
