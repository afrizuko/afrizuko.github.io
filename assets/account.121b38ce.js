import{a8 as l,a7 as i,a9 as o,aa as a}from"./index.29cc8f67.js";const r=l("wishlist",{state:()=>({host:i({email:null,firstName:null,lastName:null,password:null,created:null,phone:null,fastestResponse:null,status:null,id:null,responseRate:null,verified:!1,userType:"HOST",narration:null,birthDate:null,addressLine:null,avatar:null,gender:null,nationalId:null}),user:i({email:null,firstName:null,lastName:null,password:null,created:null,phone:null,fastestResponse:null,status:null,id:null,responseRate:null,verified:!1,userType:"HOST",narration:null,birthDate:null,addressLine:null,avatar:null,gender:null,nationalId:null}),userRatings:i([]),initiatorPhotos:i([]),reviews:i({}),properties:i([]),avatar:i([]),hostAvatar:i([]),images:i([]),wishlist:i([]),notification:i([]),loading:!1,currentTab:i("editProfile"),response:i({code:null,message:null,data:null})}),getters:{getProperties:s=>s.properties,getResponse:s=>s.response,isLoading:s=>s.loading,getPropertyReviews:s=>s.reviews,getUserRating:s=>s.userRatings,getImages:s=>s.images,getAvatar:s=>s.avatar,getInitiatorPhotos:s=>s.initiatorPhotos,getHostAvatar:s=>s.hostAvatar,getCurrentTab:s=>s.currentTab,getWishlist:s=>s.wishlist,getUser:s=>s.user,getHost:s=>s.host,getNotifications:s=>s.notification},actions:{async findUserWishlist(s){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/wishlist/search",s).then(e=>{console.log("==========================findUserWishlist=============================="),console.log(e.data),e.data.wishlists!=null&&(this.wishlist=e.data.wishlists)}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async findProperty(s){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/property/search",a().removeNullKeys(s)).then(e=>{console.log("==========================findPropertyWishlist=============================="),e.data.properties!=null&&(this.properties=e.data)}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async findPropertyRating(s){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/reviews/search",s).then(e=>{console.log("========findPropertyRatingReviews========"),console.log(e.data.reviewItems),e.data.reviewItems!=null&&(this.reviews=e.data.reviewItems)}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async findUser(s){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/reviews/search",s).then(e=>{console.log(e.data.reviewItems),e.data.reviewItems!=null&&(this.userRatings=e.data.reviewItems)}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async addToWishList(s){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/wishlist",s).then(e=>{console.log("======== addToWishList ========"),console.log(e.data.reviews),e.status==200?this.response={code:0,message:"Your wishlist has been successfully added.",data:null}:this.response={code:99,message:"Something went wrong.",data:null}}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async removeFromWishList(s){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/wishlist/delete",s).then(e=>{console.log("======== removeFromWishList ========"),e.status==200?this.response={code:0,message:"Your wishlist has been successfully removed.",data:null}:this.response={code:99,message:"Something went wrong.",data:null}}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async findWishListByPropertyId(s){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/wishlist/search",s).then(e=>{console.log("======== findWishListByPropertyId ========"),console.log(e.data.wishlists),e.data.wishlists!=null&&(this.wishlist=e.data.wishlists)}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async findUserPhoto(s,e=!1){console.log("================ request findUserPhoto==================="),console.log(JSON.stringify(s)),this.loading=!0,await o.post("/files/search",s).then(t=>{console.log(t),console.log("================response findUserPhoto==================="),console.log(a().isObjectEmpty(t.data.objectIds)),a().isObjectEmpty(t.data.objectIds)||(e?this.hostAvatar=t.data.objectIds[s.objectIds].files:this.avatar=t.data.objectIds[s.objectIds].files)}).catch(t=>{console.log(t)}).finally(()=>{this.loading=!1})},async findPropertyImages(s){console.log("================ request findPropertyImages==================="),console.log(JSON.stringify(s)),this.loading=!0,await o.post("/files/search",s).then(e=>{console.log("================response findPropertyImages==================="),console.log(e.data.objectIds),e.data.objectIds!=null&&(this.images=e.data.objectIds)}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async subscribeToNewsLetter(s){console.log("================ request subscribeToNewsLetter==================="),console.log(JSON.stringify(s)),this.loading=!0,await o.post("/subscription",s).then(e=>{console.log("================response subscribeToNewsLetter==================="),e.status==200?this.response={code:0,message:"subscribed.",data:null}:this.response={code:99,message:"subscription failed.",data:null}}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async findUserInfo(s,e=!1){console.log("================ request findUserInfo==================="),console.log(JSON.stringify(s)),this.loading=!0,await o.post("/users/search",s).then(t=>{console.log("================response findUserInfo==================="),console.log(t.data.users),t.data.users!=null&&(e?this.host=t.data.users[s.ids]:this.user=t.data.users[s.ids],this.user.birthDate=="0001-01-01"&&(this.user.birthDate=null),this.user.gender=="Gender_Not_Set"&&(this.user.gender=null))}).catch(t=>{console.log(t)}).finally(()=>{this.loading=!1})},async updateUserInfo(s){console.log("================ request updateUserInfo 666666==================="),console.log(JSON.stringify(s)),this.loading=!0,await o.patch("/users",s).then(e=>{console.log("================response updateUserInfo==================="),e.status==200&&(this.response={code:0,message:"Account details updated successfully",data:null})}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async filterProperty(s,e){console.log(JSON.stringify(s)),this.loading=!0,await o.post("/property/search",s).then(t=>{console.log("==========================property/search=============================="),t.data.properties!=null&&e!="FEATURED"?this.properties=t.data.properties:this.featuredProperties=t.data.properties}).catch(t=>{console.log(t)}).finally(()=>{this.loading=!1})},async findNotifications(s){console.log("======gggg========== /notifications/search=========gggggg=========="),console.log(JSON.stringify(s)),this.loading=!0,await o.post("/notifications/search",s).then(e=>{console.log(e),this.notification=e.data.notifications}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},async findPhotos(s){console.log("=========fffffffff======= findPhotos========fffff==========="),console.log(JSON.stringify(s)),this.loading=!0,await o.post("/files/search",s).then(e=>{console.log("================findPhotos==================="),console.log(e.data.objectIds),e.data.objectIds!=null&&(this.initiatorPhotos=e.data.objectIds)}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},setCurrentTab(s){this.currentTab=s}},persist:!1});export{r as u};
