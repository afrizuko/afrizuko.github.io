import{Q as z}from"./QSeparator.141d3b5d.js";import{Q as Z}from"./QImg.1e913361.js";import{Q as D}from"./QCardSection.258f71b9.js";import{d as ee,u as te,aa as oe,c as l,o as se,K as ae,m as _,n as O,p as r,q as e,f as o,B as v,z as s,v as I,x as re,C as U,s as x,t as Y,F as le,Q as ne}from"./index.fed07d25.js";import{Q as ie}from"./QCheckbox.095eae22.js";import{Q as g}from"./QCard.8dd24b16.js";import{Q as b}from"./QChip.ddc19688.js";import{Q as w}from"./QSpace.793954d4.js";import{Q as ce}from"./QPage.a2778391.js";import{u as de}from"./payment.b2ac607a.js";import{m as H}from"./moment.18ddbc39.js";import{u as ue}from"./property.6b084a55.js";import"./use-dark.35ad09a7.js";import"./use-checkbox.6368eecd.js";import"./use-form.9377b251.js";const me={class:"row justify-center q-mt-md"},_e=e("div",{class:"row"},[e("h1",{class:"text-weight-bold text-h3"}," Congratulation \u{1F389} ")],-1),ve=e("div",{class:"row"},[e("h1",{class:"text-weight-bold text-h5"}," Your booking ")],-1),pe={class:"text-h7 q-mt-sm q-mb-xs text-grey"},fe={class:"text-h7 q-mt-sm q-mb-xs"},he={class:"row q-mt-sm"},ye={key:0,class:"q-mr-sm"},xe={class:"row"},ge={class:"text-grey"},be={class:"row q-mt-md"},we={class:"row q-mt-md"},qe={class:"text-grey"},Se={class:"row q-mt-md"},De=e("div",{class:"row q-mt-md"},[e("h1",{class:"text-weight-bold text-h5"}," Reservation Details ")],-1),Oe={class:"row q-mt-md q-mb-sm"},Ie={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},Pe={class:"row q-py-sm"},Qe=e("div",{class:"text-subtitle1"}," Reservation code ",-1),Re={class:"text-subtitle1"},Ce={class:"row q-py-sm"},ke=e("div",{class:"text-subtitle1"}," Payment Date ",-1),Ee={class:"text-subtitle1"},Me={class:"row q-py-sm"},Te=e("div",{class:"text-subtitle1"}," Start Date ",-1),Be={class:"text-subtitle1"},Ne={class:"row q-py-sm"},$e=e("div",{class:"text-subtitle1"}," Total Amount Due ",-1),Ae={class:"text-subtitle1"};const je={class:"q-mt-lg"},st=ee({__name:"pay-done",setup(Fe){const P=te(),n=oe(),q=de(),d=ue(),t=l(()=>q.getPaymentDetails),J=l(()=>{if(t.value.period.from!=null){const u=H(t.value.period.from);return H(t.value.period.to).diff(u,"months")+1}else return 0});l(()=>d.getPropertyReviews);const S=l(()=>t.value.noOfInfants+t.value.noOfChildren+t.value.noOfAdults),i=l(()=>d.getProperty);l(()=>d.getImages),l(()=>q.getResponse);const Q=l(()=>d.getPropertyReview2),K=l(()=>JSON.stringify(d.getPropertyReview2)===JSON.stringify({})),L=l(()=>t.value.period.hasOwnProperty("from")?`${n.formatDateMonthDay(t.value.period.from)} -
    ${n.formatDateMonthDay(t.value.period.to)}`:n.formatStartDate(t.value.period));async function G(){let u={objectType:"PROPERTY",object_ids:[t.value.objectId]};await d.findPropertyReviews(u)}async function W(){var m;let u={objectType:"PROPERTY",objectIds:[(m=t.value)==null?void 0:m.objectId]};await d.findPropertyImages(u)}function X(){q.$reset(),P.push("/")}return se(()=>{G(),W()}),ae(()=>{localStorage.removeItem("payment")}),(u,m)=>(_(),O(ce,null,{default:r(()=>[e("div",me,[o(g,{flat:"",class:"col-xl-12 col-lg-7 col-md-12 col-sm-12 col-xs-12"},{default:r(()=>{var R,C,k,E,M,T,B,N,$,A,j,F;return[_e,o(z),ve,o(g,{flat:"",class:"col-xl-12 col-lg-4 col-md-12 col-sm-12 col-xs-12 cursor-pointer",onClick:m[0]||(m[0]=c=>v(P).push(`/listing-stay-details/${i.value.id}`))},{default:r(()=>[o(D,{horizontal:""},{default:r(()=>[o(D,{class:"col-3"},{default:r(()=>[o(Z,{height:"140px",class:"rounded-borders",src:i.value.images.filter(c=>c.coverImage===!0)[0].uri},null,8,["src"])]),_:1}),o(D,{class:"q-pt-xs"},{default:r(()=>{var c,p,f;return[e("div",pe,s((c=i.value)==null?void 0:c.propertyType),1),e("div",fe,s((p=i.value)==null?void 0:p.name),1),e("div",he,[(_(!0),I(le,null,re((f=i.value)==null?void 0:f.features,a=>(_(),I("div",null,[a.feature=="FEATURE_BED_ROOMS"||a.feature=="FEATURE_BATH_ROOMS"?(_(),I("div",ye,[o(U,{name:v(n).featureIcon(a.feature),class:"q-my-md",size:"10px"},null,8,["name"]),x(" "+s(a.value)+" "+s(a.feature=="FEATURE_BED_ROOMS"?"bedrooms":"bathrooms"),1)])):Y("",!0)]))),256))]),o(z,{class:"q-my-md",style:{width:"20%"}}),e("div",xe,[K.value?(_(),O(U,{key:1,name:"star_border",size:"20px"})):(_(),O(ie,{key:0,"checked-icon":"star","unchecked-icon":"star","indeterminate-icon":"star",color:"warning","model-value":""},{default:r(()=>{var a,h,y,V;return[x(s((h=Q.value[(a=i.value)==null?void 0:a.id])==null?void 0:h.rating)+" ",1),e("span",ge,"("+s((V=Q.value[(y=i.value)==null?void 0:y.id])==null?void 0:V.reviewCount)+")",1)]}),_:1})),x(" None ")])]}),_:1})]),_:1})]),_:1}),e("div",be,[o(g,{bordered:"",flat:"",class:"col-xl-12 col-lg-6 col-md-12 col-sm-12 col-xs-12 q-px-sm"},{default:r(()=>[e("div",we,[e("div",qe,[o(b,{icon:"calendar_today",label:"Date",color:"white"})])]),e("div",null,[o(b,{color:"white",class:"text-weight-bold text-h6 q-ml-md"},{default:r(()=>[x(s(L.value)+" ",1)]),_:1})])]),_:1}),o(g,{bordered:"",flat:"",class:"col-xl-12 col-lg-6 col-md-12 col-sm-12 col-xs-12 q-px-sm"},{default:r(()=>[e("div",Se,[o(b,{icon:"family_restroom",label:"Tenants",color:"white"})]),o(b,{class:"text-weight-bold text-h6 bg-white"},{default:r(()=>{var c,p,f,a,h,y;return[x(s(S.value-((c=t.value)==null?void 0:c.noOfInfants)>1?`${S.value-((p=t.value)==null?void 0:p.noOfInfants)} Tenants`:`${S.value-((f=t.value)==null?void 0:f.noOfInfants)} Tenant`)+" "+s(((a=t.value)==null?void 0:a.noOfInfants)>1?`${(h=t.value)==null?void 0:h.noOfInfants} Infants`:`${(y=t.value)==null?void 0:y.noOfInfants} Infant`),1)]}),_:1})]),_:1})]),De,e("div",Oe,[e("div",Ie,[e("div",Pe,[Qe,o(w),e("div",Re,s((R=t.value)==null?void 0:R.referenceNo),1)]),e("div",Ce,[ke,o(w),e("div",Ee,s(v(n).formatStartCurrentDate()),1)]),e("div",Me,[Te,o(w),e("div",Be,s((C=t.value)!=null&&C.period.hasOwnProperty("from")?v(n).formatStartDate((k=t.value)==null?void 0:k.period.from):v(n).formatStartDate((E=t.value)==null?void 0:E.period)),1)]),e("div",Ne,[$e,o(w),e("div",Ae,s((M=t.value)==null?void 0:M.amount.currencyCode)+" "+s(v(n).commaSeparate(((T=t.value)==null?void 0:T.amount.units)*J.value+((N=(B=t.value)==null?void 0:B.charge)==null?void 0:N.units)+((A=($=t.value)==null?void 0:$.vatAmount)==null?void 0:A.units)+Number((F=(j=i.value)==null?void 0:j.securityAmount)==null?void 0:F.units))),1)]),Y("",!0)])]),e("div",je,[o(ne,{"no-caps":"",rounded:"",color:"indigo-10",label:"Explore More Rentals",onClick:X})])]}),_:1})])]),_:1}))}});export{st as default};
