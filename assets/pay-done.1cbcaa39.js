import{Q as M}from"./QSeparator.a93613f8.js";import{Q as V}from"./use-dark.ea7b5f08.js";import{Q as w}from"./QCardSection.2abc04d4.js";import{d as G,u as Y,aa as H,c as r,o as J,K,m as u,n as b,p as a,q as t,f as s,z as o,v as q,x as L,C as B,B as m,s as _,t as W,F as X,Q as Z}from"./index.d4fcaa5c.js";import{Q as tt}from"./QCheckbox.8d02a6eb.js";import{Q as h}from"./QCard.37cd754e.js";import{Q as y}from"./QChip.77640aef.js";import{Q as v}from"./QSpace.a4108b1e.js";import{Q as et}from"./QPage.19e41d9f.js";import{u as st}from"./payment.8f3ae977.js";import{m as T}from"./moment.18ddbc39.js";import{u as ot}from"./property.25ad4b63.js";import"./use-checkbox.07798e60.js";import"./use-form.7bd50efc.js";const at={class:"row justify-center q-mt-md"},rt=t("div",{class:"row"},[t("h1",{class:"text-weight-bold text-h3"}," Congratulation \u{1F389} ")],-1),lt=t("div",{class:"row"},[t("h1",{class:"text-weight-bold text-h5"}," Your booking ")],-1),nt={class:"text-h7 q-mt-sm q-mb-xs text-grey"},ct={class:"text-h7 q-mt-sm q-mb-xs"},it={class:"row q-mt-sm"},dt={key:0,class:"q-mr-sm"},ut={class:"row"},mt={class:"text-grey"},_t={class:"row q-mt-md"},vt={class:"row q-mt-md"},ft={class:"text-grey"},pt={class:"row q-mt-md"},ht=t("div",{class:"row q-mt-md"},[t("h1",{class:"text-weight-bold text-h5"}," Booking detail ")],-1),yt={class:"row q-mt-md q-mb-sm"},xt={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},gt={class:"row q-py-sm"},wt=t("div",{class:"text-subtitle1"}," Booking code ",-1),bt={class:"text-subtitle1"},qt={class:"row q-py-sm"},Ot=t("div",{class:"text-subtitle1"}," Payment Date ",-1),It={class:"text-subtitle1"},Pt={class:"row q-py-sm"},St=t("div",{class:"text-subtitle1"}," Start Date ",-1),Dt={class:"text-subtitle1"},Qt={class:"row q-py-sm"},Rt=t("div",{class:"text-subtitle1"}," Total ",-1),Ct={class:"text-subtitle1"},kt={class:"row q-py-sm"},Et=t("div",{class:"text-subtitle1"}," Payment method ",-1),Mt={class:"text-subtitle1"},Bt={class:"q-mt-lg"},Wt=G({__name:"pay-done",setup(Tt){const N=Y(),l=H(),x=st(),c=ot(),e=r(()=>x.getPaymentDetails),j=r(()=>{if(e.value.period.from!=null){const d=T(e.value.period.from);return T(e.value.period.to).diff(d,"months")+1}else return 0});r(()=>c.getPropertyReviews);const g=r(()=>e.value.noOfInfants+e.value.noOfChildren+e.value.noOfAdults),i=r(()=>c.getProperty);r(()=>c.getImages),r(()=>x.getResponse);const O=r(()=>c.getPropertyReview2),$=r(()=>JSON.stringify(c.getPropertyReview2)===JSON.stringify({})),A=r(()=>e.value.period.hasOwnProperty("from")?`${l.formatDateMonthDay(e.value.period.from)} -
    ${l.formatDateMonthDay(e.value.period.to)}`:l.formatStartDate(e.value.period));async function F(){let d={objectType:"PROPERTY",object_ids:[e.value.objectId]};await c.findPropertyReviews(d)}async function z(){var f;let d={objectType:"PROPERTY",objectIds:[(f=e.value)==null?void 0:f.objectId]};await c.findPropertyImages(d)}function U(){x.$reset(),N.push("/")}return J(()=>{F(),z()}),K(()=>{localStorage.removeItem("payment")}),(d,f)=>(u(),b(et,null,{default:a(()=>[t("div",at,[s(h,{flat:"",class:"col-xl-12 col-lg-7 col-md-12 col-sm-12 col-xs-12"},{default:a(()=>{var I,P,S,D;return[rt,s(M),lt,s(h,{flat:"",class:"col-xl-12 col-lg-4 col-md-12 col-sm-12 col-xs-12"},{default:a(()=>[s(w,{horizontal:""},{default:a(()=>[s(w,{class:"col-3"},{default:a(()=>[s(V,{height:"140px",class:"rounded-borders",src:i.value.images.filter(p=>p.coverImage===!0)[0].uri},null,8,["src"])]),_:1}),s(w,{class:"q-pt-xs"},{default:a(()=>{var p,Q,R;return[t("div",nt,o((p=i.value)==null?void 0:p.propertyType),1),t("div",ct,o((Q=i.value)==null?void 0:Q.name),1),t("div",it,[(u(!0),q(X,null,L((R=i.value)==null?void 0:R.features,n=>(u(),q("div",null,[n.feature=="FEATURE_BED_ROOMS"||n.feature=="FEATURE_BATH_ROOMS"?(u(),q("div",dt,[s(B,{name:m(l).featureIcon(n.feature),class:"q-my-md",size:"10px"},null,8,["name"]),_(" "+o(n.value)+" "+o(n.feature=="FEATURE_BED_ROOMS"?"beds":"baths"),1)])):W("",!0)]))),256))]),s(M,{class:"q-my-md",style:{width:"20%"}}),t("div",ut,[$.value?(u(),b(B,{key:1,name:"star_border",size:"20px"})):(u(),b(tt,{key:0,"checked-icon":"star","unchecked-icon":"star","indeterminate-icon":"star",color:"warning","model-value":""},{default:a(()=>{var n,C,k,E;return[_(o((C=O.value[(n=i.value)==null?void 0:n.id])==null?void 0:C.rating)+" ",1),t("span",mt,"("+o((E=O.value[(k=i.value)==null?void 0:k.id])==null?void 0:E.reviewCount)+")",1)]}),_:1})),_(" None ")])]}),_:1})]),_:1})]),_:1}),t("div",_t,[s(h,{bordered:"",flat:"",class:"col-xl-12 col-lg-6 col-md-12 col-sm-12 col-xs-12 q-px-sm"},{default:a(()=>[t("div",vt,[t("div",ft,[s(y,{icon:"calendar_today",label:"Date",color:"white"})])]),t("div",null,[s(y,{color:"white",class:"text-weight-bold text-h6 q-ml-md"},{default:a(()=>[_(o(A.value)+" ",1)]),_:1})])]),_:1}),s(h,{bordered:"",flat:"",class:"col-xl-12 col-lg-6 col-md-12 col-sm-12 col-xs-12 q-px-sm"},{default:a(()=>[t("div",pt,[s(y,{icon:"family_restroom",label:"Guests",color:"white"})]),s(y,{class:"text-weight-bold text-h6 bg-white"},{default:a(()=>[_(o(g.value-e.value.noOfInfants>1?`${g.value-e.value.noOfInfants} Guests`:`${g.value-e.value.noOfInfants} Guest`)+" "+o(e.value.noOfInfants>1?`${e.value.noOfInfants} Infants`:`${e.value.noOfInfants} Infant`),1)]),_:1})]),_:1})]),ht,t("div",yt,[t("div",xt,[t("div",gt,[wt,s(v),t("div",bt,o(e.value.referenceNo),1)]),t("div",qt,[Ot,s(v),t("div",It,o(m(l).formatStartCurrentDate()),1)]),t("div",Pt,[St,s(v),t("div",Dt,o(e.value.period.hasOwnProperty("from")?m(l).formatStartDate(e.value.period.from):m(l).formatStartDate(e.value.period)),1)]),t("div",Qt,[Rt,s(v),t("div",Ct,o((I=e.value)==null?void 0:I.amount.currencyCode)+" "+o(m(l).commaSeparate(((P=e.value)==null?void 0:P.amount.units)*j.value+e.value.charge.units+e.value.vatAmount.units))+"."+o((S=e.value)==null?void 0:S.amount.nanos),1)]),t("div",kt,[Et,s(v),t("div",Mt,o(((D=e.value)==null?void 0:D.paymentMethod)!="MobileMoney"?"Card Payment":"Mobile Money"),1)])])]),t("div",Bt,[s(Z,{"no-caps":"",rounded:"",color:"indigo-10",label:"Explore more stays",onClick:U})])]}),_:1})])]),_:1}))}});export{Wt as default};
