import{Q as F}from"./QSeparator.5de6012a.js";import{Q as W}from"./QImg.1e914581.js";import{Q as D}from"./QCardSection.db396dc7.js";import{d as X,u as Z,aa as ee,c as l,o as te,K as oe,m as _,n as O,p as r,q as e,f as o,B as v,z as s,v as I,x as se,C as V,s as x,t as z,F as ae,Q as re}from"./index.afa77c1b.js";import{Q as le}from"./QCheckbox.e6e1e65b.js";import{Q as g}from"./QCard.b892fc5b.js";import{Q as b}from"./QChip.ff0dc821.js";import{Q as w}from"./QSpace.71560a5e.js";import{Q as ne}from"./QPage.425ea88a.js";import{u as ie}from"./payment.ca124cc8.js";import{m as U}from"./moment.18ddbc39.js";import{u as ce}from"./property.a34edba4.js";import"./use-dark.10fc72ca.js";import"./use-checkbox.fe818aed.js";import"./use-form.7716cef3.js";const de={class:"row justify-center q-mt-md"},ue=e("div",{class:"row"},[e("h1",{class:"text-weight-bold text-h3"}," Congratulation \u{1F389} ")],-1),me=e("div",{class:"row"},[e("h1",{class:"text-weight-bold text-h5"}," Your booking ")],-1),_e={class:"text-h7 q-mt-sm q-mb-xs text-grey"},ve={class:"text-h7 q-mt-sm q-mb-xs"},pe={class:"row q-mt-sm"},fe={key:0,class:"q-mr-sm"},he={class:"row"},ye={class:"text-grey"},xe={class:"row q-mt-md"},ge={class:"row q-mt-md"},be={class:"text-grey"},we={class:"row q-mt-md"},qe=e("div",{class:"row q-mt-md"},[e("h1",{class:"text-weight-bold text-h5"}," Reservation Details ")],-1),Se={class:"row q-mt-md q-mb-sm"},De={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},Oe={class:"row q-py-sm"},Ie=e("div",{class:"text-subtitle1"}," Reservation code ",-1),Pe={class:"text-subtitle1"},Qe={class:"row q-py-sm"},Re=e("div",{class:"text-subtitle1"}," Payment Date ",-1),Ce={class:"text-subtitle1"},ke={class:"row q-py-sm"},Ee=e("div",{class:"text-subtitle1"}," Start Date ",-1),Me={class:"text-subtitle1"},Te={class:"row q-py-sm"},Be=e("div",{class:"text-subtitle1"}," Total Amount Due ",-1),Ne={class:"text-subtitle1"};const $e={class:"q-mt-lg"},tt=X({__name:"pay-done",setup(Ae){const P=Z(),n=ee(),q=ie(),d=ce(),t=l(()=>q.getPaymentDetails),Y=l(()=>{if(t.value.period.from!=null){const u=U(t.value.period.from);return U(t.value.period.to).diff(u,"months")+1}else return 0});l(()=>d.getPropertyReviews);const S=l(()=>t.value.noOfInfants+t.value.noOfChildren+t.value.noOfAdults),i=l(()=>d.getProperty);l(()=>d.getImages),l(()=>q.getResponse);const Q=l(()=>d.getPropertyReview2),H=l(()=>JSON.stringify(d.getPropertyReview2)===JSON.stringify({})),J=l(()=>t.value.period.hasOwnProperty("from")?`${n.formatDateMonthDay(t.value.period.from)} -
    ${n.formatDateMonthDay(t.value.period.to)}`:n.formatStartDate(t.value.period));async function K(){let u={objectType:"PROPERTY",object_ids:[t.value.objectId]};await d.findPropertyReviews(u)}async function L(){var m;let u={objectType:"PROPERTY",objectIds:[(m=t.value)==null?void 0:m.objectId]};await d.findPropertyImages(u)}function G(){q.$reset(),P.push("/")}return te(()=>{K(),L()}),oe(()=>{localStorage.removeItem("payment")}),(u,m)=>(_(),O(ne,null,{default:r(()=>[e("div",de,[o(g,{flat:"",class:"col-xl-12 col-lg-7 col-md-12 col-sm-12 col-xs-12"},{default:r(()=>{var R,C,k,E,M,T,B,N,$,A;return[ue,o(F),me,o(g,{flat:"",class:"col-xl-12 col-lg-4 col-md-12 col-sm-12 col-xs-12 cursor-pointer",onClick:m[0]||(m[0]=c=>v(P).push(`/listing-stay-details/${i.value.id}`))},{default:r(()=>[o(D,{horizontal:""},{default:r(()=>[o(D,{class:"col-3"},{default:r(()=>[o(W,{height:"140px",class:"rounded-borders",src:i.value.images.filter(c=>c.coverImage===!0)[0].uri},null,8,["src"])]),_:1}),o(D,{class:"q-pt-xs"},{default:r(()=>{var c,p,f;return[e("div",_e,s((c=i.value)==null?void 0:c.propertyType),1),e("div",ve,s((p=i.value)==null?void 0:p.name),1),e("div",pe,[(_(!0),I(ae,null,se((f=i.value)==null?void 0:f.features,a=>(_(),I("div",null,[a.feature=="FEATURE_BED_ROOMS"||a.feature=="FEATURE_BATH_ROOMS"?(_(),I("div",fe,[o(V,{name:v(n).featureIcon(a.feature),class:"q-my-md",size:"10px"},null,8,["name"]),x(" "+s(a.value)+" "+s(a.feature=="FEATURE_BED_ROOMS"?"beds":"baths"),1)])):z("",!0)]))),256))]),o(F,{class:"q-my-md",style:{width:"20%"}}),e("div",he,[H.value?(_(),O(V,{key:1,name:"star_border",size:"20px"})):(_(),O(le,{key:0,"checked-icon":"star","unchecked-icon":"star","indeterminate-icon":"star",color:"warning","model-value":""},{default:r(()=>{var a,h,y,j;return[x(s((h=Q.value[(a=i.value)==null?void 0:a.id])==null?void 0:h.rating)+" ",1),e("span",ye,"("+s((j=Q.value[(y=i.value)==null?void 0:y.id])==null?void 0:j.reviewCount)+")",1)]}),_:1})),x(" None ")])]}),_:1})]),_:1})]),_:1}),e("div",xe,[o(g,{bordered:"",flat:"",class:"col-xl-12 col-lg-6 col-md-12 col-sm-12 col-xs-12 q-px-sm"},{default:r(()=>[e("div",ge,[e("div",be,[o(b,{icon:"calendar_today",label:"Date",color:"white"})])]),e("div",null,[o(b,{color:"white",class:"text-weight-bold text-h6 q-ml-md"},{default:r(()=>[x(s(J.value)+" ",1)]),_:1})])]),_:1}),o(g,{bordered:"",flat:"",class:"col-xl-12 col-lg-6 col-md-12 col-sm-12 col-xs-12 q-px-sm"},{default:r(()=>[e("div",we,[o(b,{icon:"family_restroom",label:"Tenants",color:"white"})]),o(b,{class:"text-weight-bold text-h6 bg-white"},{default:r(()=>{var c,p,f,a,h,y;return[x(s(S.value-((c=t.value)==null?void 0:c.noOfInfants)>1?`${S.value-((p=t.value)==null?void 0:p.noOfInfants)} Tenants`:`${S.value-((f=t.value)==null?void 0:f.noOfInfants)} Tenant`)+" "+s(((a=t.value)==null?void 0:a.noOfInfants)>1?`${(h=t.value)==null?void 0:h.noOfInfants} Infants`:`${(y=t.value)==null?void 0:y.noOfInfants} Infant`),1)]}),_:1})]),_:1})]),qe,e("div",Se,[e("div",De,[e("div",Oe,[Ie,o(w),e("div",Pe,s((R=t.value)==null?void 0:R.referenceNo),1)]),e("div",Qe,[Re,o(w),e("div",Ce,s(v(n).formatStartCurrentDate()),1)]),e("div",ke,[Ee,o(w),e("div",Me,s((C=t.value)!=null&&C.period.hasOwnProperty("from")?v(n).formatStartDate((k=t.value)==null?void 0:k.period.from):v(n).formatStartDate((E=t.value)==null?void 0:E.period)),1)]),e("div",Te,[Be,o(w),e("div",Ne,s((M=t.value)==null?void 0:M.amount.currencyCode)+" "+s(v(n).commaSeparate(((T=t.value)==null?void 0:T.amount.units)*Y.value+((B=t.value)==null?void 0:B.charge)+((N=t.value)==null?void 0:N.vatAmount)+Number((A=($=i.value)==null?void 0:$.securityAmount)==null?void 0:A.units))),1)]),z("",!0)])]),e("div",$e,[o(re,{"no-caps":"",rounded:"",color:"indigo-10",label:"Explore More Rentals",onClick:G})])]}),_:1})])]),_:1}))}});export{tt as default};
